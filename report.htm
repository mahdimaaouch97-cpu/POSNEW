<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ุชูุฑูุฑ ุดูุฑูุฉ - FAST NET</title>
<link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
<h2>ุชูุฑูุฑ ุดูุฑูุฉ - FAST NET</h2>
<button onclick="goHome()">๐ ุงูุนูุฏุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ</button>
<button onclick="exportPDF()">๐ ุชุตุฏูุฑ PDF</button>

<div id="reportStats" class="stats">
    <div>ุนุฏุฏ ุงููุดุชุฑููู: <span id="totalSubs">0</span></div>
    <div>ุนุฏุฏ ุงููุฏููุน: <span id="totalPaid">0</span></div>
    <div>ุนุฏุฏ ุบูุฑ ุงููุฏููุน: <span id="totalUnpaid">0</span></div>
    <div>ุฅุฌูุงูู ุงููุจุงูุบ ุงููุฏููุนุฉ: <span id="totalAmount">$0</span></div>
</div>

<table id="reportTable">
    <tr>
        <th>ุงูุงุณู</th>
        <th>ุงููุงุชู</th>
        <th>ุงูุนููุงู</th>
        <th>ุฑุณู ุงูุงุดุชุฑุงู</th>
        <th>ุงูุญุงูุฉ</th>
        <th>ุฑูู ุฅูุตุงู</th>
        <th>ุชุงุฑูุฎ ุงูุฏูุน</th>
    </tr>
</table>

<script src="assets/js/crypto.js"></script>
<script src="assets/js/archive.js"></script>
<script src="assets/js/stats.js"></script>
<script src="assets/js/core.js"></script>
<script>
function updateReport(){
    const subs = decrypt(localStorage.getItem("subscribers")||encrypt([]));
    const table = document.getElementById("reportTable");
    table.innerHTML = `<tr>
        <th>ุงูุงุณู</th>
        <th>ุงููุงุชู</th>
        <th>ุงูุนููุงู</th>
        <th>ุฑุณู ุงูุงุดุชุฑุงู</th>
        <th>ุงูุญุงูุฉ</th>
        <th>ุฑูู ุฅูุตุงู</th>
        <th>ุชุงุฑูุฎ ุงูุฏูุน</th>
    </tr>`;

    let totalSubs = subs.length;
    let totalPaid = 0;
    let totalUnpaid = 0;
    let totalAmount = 0;

    subs.forEach(s=>{
        const row = table.insertRow();
        row.insertCell(0).textContent = s.name;
        row.insertCell(1).textContent = s.phone;
        row.insertCell(2).textContent = s.address;
        row.insertCell(3).textContent = "$"+s.fee;
        row.insertCell(4).textContent = s.paid ? "ูุฏููุน" : "ุบูุฑ ูุฏููุน";
        row.insertCell(5).textContent = s.receipt || "-";
        row.insertCell(6).textContent = s.date ? formatDate(s.date) : "-";

        if(s.paid){
            totalPaid++;
            totalAmou
